webpackJsonp([1],{141:function(e,t,n){"use strict";function i(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function a(e,t){return~~(e/t)}function s(e,t){return~~(e/t)==e/t}var c,u,l,h=n(120),p=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());n.i(h.useStrict)(!0);var f=(c=function(){function e(){r(this,e),i(this,"list",u,this),i(this,"isSuccess",l,this),this.initLevel()}return p(e,[{key:"initLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.list.clear(),this.isSuccess=!1;for(var t=0;t<e;t++){this.list.push([]);for(var n=0;n<e;n++){var i=Math.random(),r={id:t*e+n,direction:i>.75?1:i>.5?2:i>.25?-1:-2,isChoosed:!1};this.list[t].push(r)}}}},{key:"checkSuccess",value:function(){var e=this.list[0][0].direction,t=!0;return this.list.forEach(function(n){return n.forEach(function(n){e!==n.direction&&(t=!1)})}),t}},{key:"chageClick",value:function(e){var t=e.id,n=this.list,i=n.length;this.initChoose(),n.forEach(function(e){return e.forEach(function(e){Math.abs(e.id-t)<i&&a(e.id,i)===a(t,i)?e.isChoosed=!0:s(Math.abs(e.id-t),i)&&(e.isChoosed=!0)})})}},{key:"initChoose",value:function(){this.list.forEach(function(e){return e.forEach(function(e){e.isChoosed=!1})})}},{key:"changeDirection",value:function(e){this.list.forEach(function(t){return t.forEach(function(t){if(t.isChoosed)if("x"===e)switch(t.direction){case 1:t.direction=2;break;case 2:t.direction=1;break;case-1:t.direction=-2;break;case-2:t.direction=-1}else if("y"===e)switch(t.direction){case 1:t.direction=-1;break;case 2:t.direction=-2;break;case-1:t.direction=1;break;case-2:t.direction=2}})}),this.checkSuccess()&&(this.isSuccess=!0)}}]),e}(),u=o(c.prototype,"list",[h.observable],{enumerable:!0,initializer:function(){return[]}}),l=o(c.prototype,"isSuccess",[h.observable],{enumerable:!0,initializer:function(){return!1}}),o(c.prototype,"initLevel",[h.action],Object.getOwnPropertyDescriptor(c.prototype,"initLevel"),c.prototype),o(c.prototype,"chageClick",[h.action],Object.getOwnPropertyDescriptor(c.prototype,"chageClick"),c.prototype),o(c.prototype,"initChoose",[h.action],Object.getOwnPropertyDescriptor(c.prototype,"initChoose"),c.prototype),o(c.prototype,"changeDirection",[h.action],Object.getOwnPropertyDescriptor(c.prototype,"changeDirection"),c.prototype),c);t.a=new f},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),r=n.n(i),o=n(177),a=(n.n(o),n(500)),s=(n.n(a),n(208)),c=n(434);n.n(c).a.config("https://921035588017413788dd07127334eb82@sentry.io/178352").install(),n.i(o.render)(r.a.createElement(a.AppContainer,null,r.a.createElement(s.a,null)),document.getElementById("root"))},208:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(39),c=n.n(s),u=n(75),l=(n.n(u),n(427)),h=n.n(l),p=n(210),f=n(141),y=n(70),b=(n.n(y),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),v=n.i(y.observer)(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(p.a,{gameStore:f.a}),c.a.createElement(h.a,null),f.a.isSuccess&&c.a.createElement("h1",null," win!!"),f.a.isSuccess&&c.a.createElement("button",{onClick:f.a.initLevel.bind(f.a,f.a.list.length+1)},"下一关"))}}]),t}(c.a.Component))||a;u.StyleSheet.create({});t.a=v},209:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t="";switch(e){case 1:t="scale(1, 1)";break;case 2:t="scale(-1, 1)";break;case-1:t="scale(1, -1)";break;case-2:t="scale(-1, -1)"}var n={transform:t};return p.StyleSheet.create({transform:n}).transform}function s(e){return p.StyleSheet.create({area:{width:80/e+"%",height:80/e+"%"}}).area}var c,u=n(39),l=n.n(u),h=n(70),p=(n.n(h),n(75)),f=(n.n(p),n(407)),y=n.n(f),b=n(408),v=n.n(b),d=n(141),g=n(212),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),w=n.i(h.observer)(c=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.x=0,o.y=0,a=n,r(o,a)}return o(t,e),m(t,[{key:"onPressMove",value:function(e){this.x+=e.deltaX,this.y+=e.deltaY,console.log("X",this.x,"Y:",this.y)}},{key:"init",value:function(){Math.abs(this.x)>30&&Math.abs(this.y)<30?d.a.changeDirection("x"):Math.abs(this.y)>30&&Math.abs(this.x)<30&&d.a.changeDirection("y"),d.a.initChoose(),this.x=0,this.y=0}},{key:"render",value:function(){var e=this.props.sizeLimit,t=this.props.itemDate;return l.a.createElement(g.a,{onPressMove:this.onPressMove.bind(this),onTouchEnd:this.init.bind(this)},l.a.createElement("div",{className:n.i(p.css)(s(e),_.rightMargin),onClick:d.a.chageClick.bind(d.a,t)},l.a.createElement("img",{src:d.a.isSuccess?v.a:y.a,className:n.i(p.css)(_.item,a(t.direction)),style:{filter:t.isChoosed?"grayscale(100%)":""}})))}}]),t}(l.a.Component))||c,_=p.StyleSheet.create({item:{width:"100%",height:"100%",transition:".1s all"},rightMargin:{marginRight:"3px"}});t.a=w},210:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(39),c=n.n(s),u=n(75),l=(n.n(u),n(211)),h=n(70),p=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),f=n.i(h.observer)(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e=this.props.gameStore;return c.a.createElement("div",{className:n.i(u.css)(y.container)},e.list.map(function(e){return c.a.createElement(l.a,{rowStore:e,key:e[0].id})}))}}]),t}(c.a.Component))||a,y=u.StyleSheet.create({container:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%"}});t.a=f},211:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(39),c=n.n(s),u=n(75),l=(n.n(u),n(209)),h=n(70),p=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),f=n.i(h.observer)(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e=this.props.rowStore;return c.a.createElement("div",{className:n.i(u.css)(y.contaners)},e.map(function(t){return c.a.createElement(l.a,{itemDate:t,sizeLimit:e.length,key:t.id})}))}}]),t}(c.a.Component))||a,y=u.StyleSheet.create({contaners:{display:"flex",justifyContent:"center"}});t.a=f},212:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var a=n(39),s=n.n(a),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.preV={x:null,y:null},n.pinchStartLen=null,n.scale=1,n.isDoubleTap=!1,n.delta=null,n.last=null,n.now=null,n.tapTimeout=null,n.longTapTimeout=null,n.swipeTimeout=null,n.x1=n.x2=n.y1=n.y2=null,n.preTapPosition={x:null,y:null},n}return o(t,e),c(t,[{key:"getLen",value:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"getAngle",value:function(e,t){var n=getLen(e)*getLen(t);if(0===n)return 0;var i=dot(e,t)/n;return i>1&&(i=1),Math.acos(i)}},{key:"cross",value:function(e,t){return e.x*t.y-t.x*e.y}},{key:"getRotateAngle",value:function(e,t){var n=getAngle(e,t);return cross(e,t)>0&&(n*=-1),180*n/Math.PI}},{key:"_resetState",value:function(){this.setState({x:null,y:null,swiping:!1,start:0})}},{key:"_emitEvent",value:function(e,t){this.props[e]&&this.props[e](t)}},{key:"_handleTouchStart",value:function(e){e.persist(),this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){var n={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=n.x,t.y=n.y,this.pinchStartLen=getLen(t),this._emitEvent("onMultipointStart",e)}this.longTapTimeout=setTimeout(function(){this._emitEvent("onLongTap",e)}.bind(this),750)}},{key:"_handleTouchMove",value:function(e){e.persist();var t=this.preV,n=e.touches.length,i=e.touches[0].pageX,r=e.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var o={x:e.touches[1].pageX-i,y:e.touches[1].pageY-r};null!==t.x&&(this.pinchStartLen>0&&(e.scale=getLen(o)/this.pinchStartLen,this._emitEvent("onPinch",e)),e.angle=getRotateAngle(o,t),this._emitEvent("onRotate",e)),t.x=o.x,t.y=o.y}else null!==this.x2?(e.deltaX=i-this.x2,e.deltaY=r-this.y2):(e.deltaX=0,e.deltaY=0),this._emitEvent("onPressMove",e);this._cancelLongTap(),this.x2=i,this.y2=r,n>1&&e.preventDefault()}},{key:"_handleTouchCancel",value:function(){clearInterval(this.tapTimeout),clearInterval(this.longTapTimeout),clearInterval(this.swipeTimeout)}},{key:"_handleTouchEnd",value:function(e){this._emitEvent("onTouchEnd",e),this._cancelLongTap();var t=this;e.touches.length<2&&this._emitEvent("onMultipointEnd",e),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.preV.y-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){t._emitEvent("onSwipe",e)},0)):this.tapTimeout=setTimeout(function(){t._emitEvent("onTap",e),t.isDoubleTap&&(t._emitEvent("onDoubleTap",e),t.isDoubleTap=!1)},0),this.preV.x=0,this.preV.y=0,this.scale=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_swipeDirection",value:function(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}},{key:"render",value:function(){return s.a.cloneElement(s.a.Children.only(this.props.children),{onTouchStart:this._handleTouchStart.bind(this),onTouchMove:this._handleTouchMove.bind(this),onTouchCancel:this._handleTouchCancel.bind(this),onTouchEnd:this._handleTouchEnd.bind(this)})}}]),t}(s.a.Component)},407:function(e,t,n){e.exports=n.p+"static/P-fb130f0b.png"},408:function(e,t,n){e.exports=n.p+"static/pw-54d1ca25.png"},520:function(e,t,n){n(202),e.exports=n(201)}},[520]);
//# sourceMappingURL=index.js.map