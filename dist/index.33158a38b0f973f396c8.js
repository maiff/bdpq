webpackJsonp([1],{141:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return a});var i=1,o=2,r=-1,a=-2},142:function(e,t,n){"use strict";function i(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,i,o){var r={};return Object.keys(i).forEach(function(e){r[e]=i[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}function a(e,t){return~~(e/t)}function s(e,t){return~~(e/t)==e/t}function c(e){return~~(Math.random()*e)}var u,l,h,p=n(120),f=(n.n(p),n(141)),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n.i(p.useStrict)(!0);var b=(u=function(){function e(){o(this,e),i(this,"list",l,this),i(this,"isSuccess",h,this),this.initLevel()}return y(e,[{key:"initLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.list.clear(),this.isSuccess=!1;for(var t=0;t<e;t++){this.list.push([]);for(var n=0;n<e;n++){var i=(Math.random(),{id:t*e+n,direction:f.a,isChoosed:!1});this.list[t].push(i)}}this.shuffle(10)}},{key:"checkSuccess",value:function(){var e=this.list[0][0].direction,t=!0;return this.list.forEach(function(n){return n.forEach(function(n){e!==n.direction&&(t=!1)})}),t}},{key:"chageClick",value:function(e){var t=e.id,n=this.list,i=n.length;this.initChoose(),n.forEach(function(e){return e.forEach(function(e){Math.abs(e.id-t)<i&&a(e.id,i)===a(t,i)?e.isChoosed=!0:s(Math.abs(e.id-t),i)&&(e.isChoosed=!0)})})}},{key:"initChoose",value:function(){this.list.forEach(function(e){return e.forEach(function(e){e.isChoosed=!1})})}},{key:"changeDirection",value:function(e,t){this.list.forEach(function(t){return t.forEach(function(t){if(t.isChoosed)if("x"===e)switch(t.direction){case f.b:t.direction=f.c;break;case f.c:t.direction=f.b;break;case f.d:t.direction=f.a;break;case f.a:t.direction=f.d}else if("y"===e)switch(t.direction){case f.b:t.direction=f.d;break;case f.c:t.direction=f.a;break;case f.d:t.direction=f.b;break;case f.a:t.direction=f.c}})}),t||this.checkSuccess()&&(this.isSuccess=!0),this.initChoose()}},{key:"shuffle",value:function(e){for(var t=this.list,n=t.length,i=e;i--;){var o=t[c(n)][c(n)],r=Math.random()<.5?"x":"y";this.chageClick(o),this.changeDirection(r,1),console.log(o.id,r)}}}]),e}(),l=r(u.prototype,"list",[p.observable],{enumerable:!0,initializer:function(){return[]}}),h=r(u.prototype,"isSuccess",[p.observable],{enumerable:!0,initializer:function(){return!1}}),r(u.prototype,"initLevel",[p.action],Object.getOwnPropertyDescriptor(u.prototype,"initLevel"),u.prototype),r(u.prototype,"chageClick",[p.action],Object.getOwnPropertyDescriptor(u.prototype,"chageClick"),u.prototype),r(u.prototype,"initChoose",[p.action],Object.getOwnPropertyDescriptor(u.prototype,"initChoose"),u.prototype),r(u.prototype,"changeDirection",[p.action],Object.getOwnPropertyDescriptor(u.prototype,"changeDirection"),u.prototype),r(u.prototype,"shuffle",[p.action],Object.getOwnPropertyDescriptor(u.prototype,"shuffle"),u.prototype),u);t.a=new b},202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),o=n.n(i),r=n(178),a=(n.n(r),n(502)),s=(n.n(a),n(209)),c=n(436);n.n(c).a.config("https://921035588017413788dd07127334eb82@sentry.io/178352").install(),n.i(r.render)(o.a.createElement(a.AppContainer,null,o.a.createElement(s.a,null)),document.getElementById("root"))},209:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(39),c=n.n(s),u=n(75),l=(n.n(u),n(429)),h=(n.n(l),n(211)),p=n(142),f=n(70),y=(n.n(f),n(214)),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=n.i(f.observer)(a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),b(t,[{key:"render",value:function(){return n.i(y.a)()?c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement(h.a,{gameStore:p.a}),!0,p.a.isSuccess&&c.a.createElement("h1",{onClick:p.a.initLevel.bind(p.a,p.a.list.length+1)}," win!! 点我下一关~"),c.a.createElement("p",{style:{position:"absolute",bottom:0}},"点击选择，胜利条件：全部变成同一个字母~")):c.a.createElement("p",null,"请用手机打开")}}]),t}(c.a.Component))||a;u.StyleSheet.create({});t.a=d},210:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t="";switch(e){case m.b:t="scale(1, 1)";break;case m.c:t="scale(-1, 1)";break;case m.d:t="scale(1, -1)";break;case m.a:t="scale(-1, -1)"}var n={transform:t};return p.StyleSheet.create({transform:n}).transform}function s(e){return p.StyleSheet.create({area:{width:80/e+"%",height:80/e+"%"}}).area}var c,u=n(39),l=n.n(u),h=n(70),p=(n.n(h),n(75)),f=(n.n(p),n(409)),y=n.n(f),b=n(410),d=(n.n(b),n(142)),v=n(213),m=n(141),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),w=n.i(h.observer)(c=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.x=0,r.y=0,a=n,o(r,a)}return r(t,e),g(t,[{key:"onPressMove",value:function(e){this.x+=e.deltaX,this.y+=e.deltaY}},{key:"init",value:function(){Math.abs(this.x)>15&&Math.abs(this.y)<15?d.a.changeDirection("x"):Math.abs(this.y)>15&&Math.abs(this.x)<15&&d.a.changeDirection("y"),this.x=0,this.y=0}},{key:"render",value:function(){var e=this.props.sizeLimit,t=this.props.itemDate;return l.a.createElement(v.a,{onPressMove:this.onPressMove.bind(this),onTouchEnd:this.init.bind(this)},l.a.createElement("div",{className:n.i(p.css)(s(e),_.rightMargin),onClick:d.a.chageClick.bind(d.a,t)},l.a.createElement("img",{src:y.a,className:n.i(p.css)(_.item,a(t.direction)),style:{filter:t.isChoosed?"grayscale(100%)":d.a.isSuccess?"brightness(5)":""}})))}}]),t}(l.a.Component))||c,_=p.StyleSheet.create({item:{width:"100%",height:"100%",transition:".1s all"},rightMargin:{marginRight:"3px"}});t.a=w},211:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(39),c=n.n(s),u=n(75),l=(n.n(u),n(212)),h=n(70),p=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),f=n.i(h.observer)(a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),p(t,[{key:"render",value:function(){var e=this.props.gameStore;return c.a.createElement("div",{className:n.i(u.css)(y.container)},e.list.map(function(e){return c.a.createElement(l.a,{rowStore:e,key:e[0].id})}))}}]),t}(c.a.Component))||a,y=u.StyleSheet.create({container:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%"}});t.a=f},212:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(39),c=n.n(s),u=n(75),l=(n.n(u),n(210)),h=n(70),p=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),f=n.i(h.observer)(a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),p(t,[{key:"render",value:function(){var e=this.props.rowStore;return c.a.createElement("div",{className:n.i(u.css)(y.contaners)},e.map(function(t){return c.a.createElement(l.a,{itemDate:t,sizeLimit:e.length,key:t.id})}))}}]),t}(c.a.Component))||a,y=u.StyleSheet.create({contaners:{display:"flex",justifyContent:"center"}});t.a=f},213:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var a=n(39),s=n.n(a),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.preV={x:null,y:null},n.pinchStartLen=null,n.scale=1,n.isDoubleTap=!1,n.delta=null,n.last=null,n.now=null,n.tapTimeout=null,n.longTapTimeout=null,n.swipeTimeout=null,n.x1=n.x2=n.y1=n.y2=null,n.preTapPosition={x:null,y:null},n}return r(t,e),c(t,[{key:"getLen",value:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"getAngle",value:function(e,t){var n=this.getLen(e)*this.getLen(t);if(0===n)return 0;var i=this.dot(e,t)/n;return i>1&&(i=1),Math.acos(i)}},{key:"cross",value:function(e,t){return e.x*t.y-t.x*e.y}},{key:"getRotateAngle",value:function(e,t){var n=this.getAngle(e,t);return this.cross(e,t)>0&&(n*=-1),180*n/Math.PI}},{key:"_resetState",value:function(){this.setState({x:null,y:null,swiping:!1,start:0})}},{key:"_emitEvent",value:function(e,t){this.props[e]&&this.props[e](t)}},{key:"_handleTouchStart",value:function(e){e.persist(),this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){var n={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=n.x,t.y=n.y,this.pinchStartLen=getLen(t),this._emitEvent("onMultipointStart",e)}this.longTapTimeout=setTimeout(function(){this._emitEvent("onLongTap",e)}.bind(this),750)}},{key:"_handleTouchMove",value:function(e){e.persist();var t=this.preV,n=e.touches.length,i=e.touches[0].pageX,o=e.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var r={x:e.touches[1].pageX-i,y:e.touches[1].pageY-o};null!==t.x&&(this.pinchStartLen>0&&(e.scale=getLen(r)/this.pinchStartLen,this._emitEvent("onPinch",e)),e.angle=this.getRotateAngle(r,t),this._emitEvent("onRotate",e)),t.x=r.x,t.y=r.y}else null!==this.x2?(e.deltaX=i-this.x2,e.deltaY=o-this.y2):(e.deltaX=0,e.deltaY=0),this._emitEvent("onPressMove",e);this._cancelLongTap(),this.x2=i,this.y2=o,n>1&&e.preventDefault()}},{key:"_handleTouchCancel",value:function(){clearInterval(this.tapTimeout),clearInterval(this.longTapTimeout),clearInterval(this.swipeTimeout)}},{key:"_handleTouchEnd",value:function(e){this._emitEvent("onTouchEnd",e),this._cancelLongTap();var t=this;e.touches.length<2&&this._emitEvent("onMultipointEnd",e),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.preV.y-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){t._emitEvent("onSwipe",e)},0)):this.tapTimeout=setTimeout(function(){t._emitEvent("onTap",e),t.isDoubleTap&&(t._emitEvent("onDoubleTap",e),t.isDoubleTap=!1)},0),this.preV.x=0,this.preV.y=0,this.scale=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_swipeDirection",value:function(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}},{key:"render",value:function(){return s.a.cloneElement(s.a.Children.only(this.props.children),{onTouchStart:this._handleTouchStart.bind(this),onTouchMove:this._handleTouchMove.bind(this),onTouchCancel:this._handleTouchCancel.bind(this),onTouchEnd:this._handleTouchEnd.bind(this)})}}]),t}(s.a.Component)},214:function(e,t,n){"use strict";function i(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),n="iphone os"==e.match(/iphone os/i),i="midp"==e.match(/midp/i),o="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),r="ucweb"==e.match(/ucweb/i),a="android"==e.match(/android/i),s="windows ce"==e.match(/windows ce/i),c="windows mobile"==e.match(/windows mobile/i);return!!(t||n||i||o||r||a||s||c)}t.a=i},409:function(e,t,n){e.exports=n.p+"static/P-fb130f0b.png"},410:function(e,t,n){e.exports=n.p+"static/pw-54d1ca25.png"},522:function(e,t,n){n(203),e.exports=n(202)}},[522]);
//# sourceMappingURL=index.js.map